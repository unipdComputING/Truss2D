%E -> modulo elastico
%A -> area
%L -> lunghezza asta
%x1-> coordinate del primo   nodo dell'elemento
%x2-> coordinate del secondo nodo dell'elememento
classdef ELTRUSS2D
  %------------------------------------------------------------------------
  properties(Constant)
    TOTNODES = 2;
  end
  %------------------------------------------------------------------------
  methods
    %----------------------------------------------------------------------
    function this=ELTRUSS2D
    end
    %----------------------------------------------------------------------
    function [K]=localStiffness(this,E,A,L,x1,x2)
      gl = GLOBAL;
      if L==0.0
        fprintf('WARNING in localStiffnessMatrix: elemento\n');
        fprintf('                       di lunghezza nulla\n');
            return
      end
        k=E*A/L;
        %local stiffness matrix relative to the local r.s.
        Ke = [ k  0.0 -k  0.0;
              0.0 0.0 0.0 0.0;
              -k  0.0  k  0.0;
              0.0 0.0 0.0 0.0;];
        %rotation matrix
        alpha = gl.getGlobalBeamAngle(x1,x2);
        R     = gl.getRotationalMatrix(alpha);
        %local stiffness matrix relative to the global r.s.
        K     = R*Ke;
        K     = K*R';
    end
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
    %----------------------------------------------------------------------
  end
  %------------------------------------------------------------------------
end